<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>1Matrix</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="/media/Favicon.png">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    screens: {
                        'xs': '480px',
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap');
        *{
            font-family: 'Quicksand', sans-serif;
        }
        .quicksand {
            font-family: "Quicksand", sans-serif;
            font-optical-sizing: auto;
        }
        .lexend-1matrix {
            font-family: "Lexend", sans-serif;
            font-optical-sizing: auto;
            font-weight: 700;
            font-style: normal;
        }
        .montserrat-header {
            font-family: "Montserrat", sans-serif;
            font-optical-sizing: auto;
            font-size: 20px;
            font-weight: 600;
            font-style: normal;
        }
        .sidebar-transition {
            transition: all 0.3s ease-in-out;
        }
        .main-transition {
            transition: margin-left 0.3s ease-in-out;
        }
        /* Better responsive sidebar */
        @media (max-width: 768px) {
            .sidebar-mobile {
                transform: translateX(-100%);
                position: fixed;
                top: 0;
                left: 0;
                bottom: 0;
                z-index: 50;
                width: 256px !important;
            }
            .sidebar-mobile.open {
                transform: translateX(0);
            }
            .overlay {
                display: none;
                position: fixed;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 40;
            }
            .overlay.show {
                display: block;
            }
            .main-content-mobile {
                margin-left: 0 !important;
                width: 100% !important;
            }
            .montserrat-header {
                font-size: 18px;
            }
        }
        
        /* Medium screens (tablets, small laptops) - Specific for 1024x778 */
        @media (min-width: 769px) and (max-width: 1024px) {
            .sidebar-mobile {
                width: 220px !important;
            }
            .main-content-mobile {
                margin-left: 220px !important;
            }
            .montserrat-header {
                font-size: 22px;
            }
            .responsive-padding-md {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
            .content-container {
                padding: 1.5rem;
            }
            .md-reduced-padding {
                padding: 1rem !important;
            }
            .md-chart-height {
                height: 220px !important;
            }
            .md-grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            }
            .md-text-sm {
                font-size: 0.875rem !important;
            }
            .md-flex-wrap {
                flex-wrap: wrap !important;
            }
        }
        
        @media (min-width: 769px) {
            .sidebar-mobile {
                transform: none !important;
            }
        }
        /* For very small screens */
        @media (max-width: 480px) {
            .montserrat-header {
                font-size: 16px;
            }
            .responsive-padding {
                padding-left: 0.75rem !important;
                padding-right: 0.75rem !important;
            }
            .responsive-text {
                font-size: 0.875rem !important;
            }
        }
        /* Fix table overflow on small screens */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        /* Make sure all pages have consistent spacing */
        .content-container {
            padding: 1rem;
        }
        @media (min-width: 640px) {
            .content-container {
                padding: 1.5rem;
            }
        }
        @media (min-width: 768px) {
            .content-container {
                padding: 2rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex flex-col">
    <!-- Overlay for mobile -->
    <div id="overlay" class="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar Navigation -->
    <div id="sidebar" class="sidebar-transition fixed h-full bg-[#7B3DF3] w-64 z-50 shadow-lg md:block sidebar-mobile overflow-y-auto" style="scrollbar-width: none; -ms-overflow-style: none;">
        <!-- Logo Section -->
        <div class="py-4 border-b border-[#9362F7]">
            <a href="/user/dashboard/" class="block mx-7 mt-[5px] relative">
                <!-- Logo -->
                <div class="text-white text-3xl font-bold lexend-1matrix">1Matrix.io</div>
                <!-- Small logo for collapsed sidebar -->
                <div class="w-8 h-auto absolute top-0 left-0 hidden transition-all duration-300 text-white font-bold" id="smallLogo">I.io</div>
            </a>
        </div>
        <nav class="mt-4" style="font-family: 'Montserrat', sans-serif;">
            <!-- Main Navigation -->
            <div class="px-4 mb-6">
                <a href="#" class="flex items-center px-4 py-3 text-sm rounded-lg text-white bg-[#6931D3] hover:bg-[#6931D3] transition-all duration-200">
                    <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <span class="ml-3 sidebar-text">Dashboard</span>
                </a>
            </div>

            <!-- Apps Section -->
            <div class="px-4 space-y-1">
                <a href="/fee_calculator/" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                    <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                    </svg>
                    <span class="ml-3 sidebar-text">Fee Calculator</span>
                </a>

                <a href="/listing_creater/ai-chat/" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                    <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                    </svg>
                    <span class="ml-3 sidebar-text">AI Listing Creater</span>
                </a>

                <div class="relative">
                    <button onclick="toggleDropdown(this)" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200 w-full">
                        <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                        </svg>
                        <span class="ml-3 sidebar-text">HR Management</span>
                        <svg class="w-4 h-4 ml-auto transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="hidden mt-1 ml-8 space-y-1">
                        <a href="/hr_management/company/" class="block px-4 py-2 text-sm text-white rounded-lg">Company</a>
                        <a href="/hr_management/onboarding/" class="block px-4 py-2 text-sm text-white rounded-lg">Onboarding</a>
                        <a href="/hr_management/creation/" class="block px-4 py-2 text-sm text-white rounded-lg">Templates</a>
                        <a href="/hr_management/attendance/" class="block px-4 py-2 text-sm text-white rounded-lg">Attendance</a>
                    </div>
                </div>

                <!-- Invoicing -->
                <div class="relative">
                    <button onclick="toggleDropdown(this)" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200 w-full">
                        <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        <span class="ml-3 sidebar-text">Invoicing</span>
                        <svg class="w-4 h-4 ml-auto transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div class="hidden mt-1 ml-8 space-y-1">
                        <a href="/invoicing/companies/" class="block px-4 py-2 text-sm text-white rounded-lg">Company</a>
                        <a href="/invoicing/create-invoice/" class="block px-4 py-2 text-sm text-white rounded-lg">Create Invoice</a>
                        <a href="/invoicing/reports/" class="block px-4 py-2 text-sm text-white rounded-lg">Reports</a>
                    </div>
                </div>

                <!-- Settings -->
                <div class="relative">
                    <a href="/product_card/" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                        <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                        </svg>
                        <span class="ml-3 sidebar-text">Product Card</span>
                    </a>
                </div>

                <script>
                    function toggleDropdown(button) {
                        const dropdown = button.nextElementSibling;
                        const arrow = button.querySelector('svg:last-child');
                        
                        if (dropdown.classList.contains('hidden')) {
                            dropdown.classList.remove('hidden');
                            arrow.style.transform = 'rotate(180deg)';
                            // Only add the active classes if they're not already applied
                            if (!button.classList.contains('bg-[#6931D3]')) {
                                button.classList.add('bg-[#6931D3]');
                            }
                        } else {
                            dropdown.classList.add('hidden');
                            arrow.style.transform = 'rotate(0deg)';
                            // Only remove background if not active page
                            if (!button.classList.contains('text-white')) {
                                button.classList.remove('bg-[#6931D3]');
                            }
                        }
                    }
                </script>

                <!-- Other existing sidebar navigation items can remain here with updated styling -->
                <!-- Just maintaining the rest as is with style updates -->
                <div class="relative">
                    <button onclick="toggleDropdown(this)" class="w-full flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                        <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                        </svg>
                        <span class="ml-3 sidebar-text">Website</span>
                        <svg class="h-4 w-4 ml-auto transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="hidden mt-1 ml-8 space-y-1">
                        <a href="{% url 'website_dashboard' %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Dashboard</a>
                        <a href="{% url 'select_template' %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Create Website</a>
                        <a href="{% url 'domain_settings' %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Domain Settings</a>
                        {% if website and website.id %}
                            <a href="{% url 'manage_pages' website.id %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Manage Pages</a>
                            <a href="{% url 'edit_website' website.id %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Edit Website</a>
                            <a href="{% url 'preview_website' website.id %}" class="block px-4 py-2 text-sm text-white hover:text-white hover:bg-[#6931D3] rounded-lg">Preview Website</a>
                        {% endif %}
                    </div>
                </div>
                <a href="{% url 'data_miner' %}" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                    <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
                    </svg>
                    <span class="ml-3 sidebar-text">LeadX</span>
                </a>
                <a href="/trends/" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                    <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <span class="ml-3 sidebar-text">TrendIQ</span>
                </a>
            </div>
        </nav>

        <!-- Add product and log out buttons at the bottom of sidebar -->
        <div class="absolute bottom-4 left-0 right-0 px-4">
            <a href="{% url 'logout' %}" class="flex items-center px-4 py-3 text-sm rounded-lg text-white hover:bg-[#6931D3] transition-all duration-200">
                <svg class="h-5 w-5 min-w-[1.25rem]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                <span class="ml-3 sidebar-text">Log out</span>
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="main-transition flex-1 ml-0 md:ml-64 main-content-mobile">
        <!-- Top Navigation Bar -->
        <header class="bg-white shadow-sm">
            <div class="flex flex-wrap items-center justify-between p-2 md:p-4">
                <div class="flex items-center space-x-2 md:space-x-6">
                    <button id="toggleSidebar" class="text-gray-500 hover:text-gray-700" onclick="toggleSidebar()">
                        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                    <div class="relative w-[18vw] h-[2.4rem] sm:w-[20vw] md:w-[18vw] lg:w-[18vw]" style="margin-left: 2.5rem;">
                        <div class="relative w-full h-full">
                            <input type="text" 
                                   id="searchInput"
                                   class="w-full h-full bg-white text-gray-800 text-sm sm:text-base rounded-full px-3 sm:px-4 py-2 border border-[#7B3DF3] focus:border-[#7B3DF3] focus:ring-2 focus:ring-[#7B3DF3]/20 focus:outline-none transition-all duration-200 ease-in-out" 
                                   placeholder="Enter 10 digit mobile number"
                                   pattern="[0-9]{10}"
                                   maxlength="10"
                                   onkeypress="return event.charCode >= 48 && event.charCode <= 57">
                            <button onclick="redirectToWhatsApp()" 
                                    class="absolute inset-y-0 right-0 flex items-center pr-3 text-[#7B3DF3] hover:text-[#6931D3] transition-colors duration-200 cursor-pointer">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16">
                                        <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                                      </svg>
                            </button>
                        </div>
                    </div>
                    <script>
                        function redirectToWhatsApp() {
                            const input = document.getElementById('searchInput');
                            const number = input.value.trim();
                            
                            if (number.length === 10 && /^\d{10}$/.test(number)) {
                                window.open(`https://wa.me/${number}`, '_blank');
                            } else {
                                alert('Please enter a valid 10-digit mobile number');
                            }
                        }

                        document.getElementById('searchInput').addEventListener('keypress', function(e) {
                            if (e.key === 'Enter') {
                                redirectToWhatsApp();
                            }
                        });
                    </script>
                </div>
                <div class="flex items-center space-x-3 md:space-x-6 mt-2 sm:mt-0">
                    <!-- Buttons that match the image -->
                    <button class="text-[#7B3DF3]">
                        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </button>
                    <button class="text-[#7B3DF3]">
                        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                    </button>
                    <button class="text-[#7B3DF3]">
                        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </button>
                    <div class="h-8 w-8 rounded-full bg-[#7B3DF3] flex items-center justify-center text-white">
                        <span>U</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1">
            {% url 'help_and_support' as help_url %}
            {% if request.path == help_url %}
                <div>
            {% else %}
                <div class="p-4 sm:p-5 md:p-2 mx-2 sm:mx-4 md:mx-[3.7rem] md:my-[1.1rem] responsive-padding-md">
                    <header class="text-start mb-4 md:mb-6">
                        <span class="text-[30px] sm:text-[40px] md:text-[50px] font-bold border-b-2 border-black montserrat-header">{{ app_name }}</span>
                        {% if request.path == '/user/dashboard/' %}
                            <div class="mt-2 text-[#030303] montserrat-header">Welcome, <span class="text-[#030303]">{{user.name}}</span></div>
                        {% endif %}
                    </header>
                    {% block content %}
                    <!-- Dashboard Main Section: Pixel-Perfect Screenshot Match -->
                    <div class="w-full sm:py-6 md:py-2 font-[Quicksand] mb-10">
                      
                      <!-- Top Counters -->
                      <div class="grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-5 mb-6 sm:mb-8 overflow-x-auto">
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">Listing Credit</div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">LeadX Credits</div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">TrendIQ Credit</div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">Website Enquiries</div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">Support Requests</div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] flex flex-col items-center py-3 sm:py-5 px-2 border border-[#F0EFFF] min-w-[120px]">
                          <div class="text-lg sm:text-xl md:text-2xl font-bold text-[#7B3DF3] leading-none" style="font-family: 'Montserrat', sans-serif;">0</div>
                          
                          <div class="text-xs text-[#232323] mt-1 font-semibold tracking-wide uppercase" style="font-family: 'Quicksand', sans-serif;">Case log</div>
                        </div>
                      </div>
                      <!-- Main Grid -->
                      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-7 md-grid-cols-2">
                        <!-- Sales Chart -->
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] p-4 sm:p-7 md-reduced-padding col-span-1 lg:col-span-2 flex flex-col border border-[#F0EFFF]">
                          <div class="font-bold text-base sm:text-lg text-[#232323] mb-3" style="font-family: 'Montserrat', sans-serif;">Sales</div>
                          <div class="w-full h-[200px] sm:h-[240px] md:h-[280px] md-chart-height relative">
                            <canvas id="salesChart" class="w-full h-full"></canvas>
                          </div>
                          <script>
                            document.addEventListener('DOMContentLoaded', function() {
                              if (window.salesChartInstance) window.salesChartInstance.destroy();
                              var ctx = document.getElementById('salesChart').getContext('2d');
                              window.salesChartInstance = new Chart(ctx, {
                                type: 'bar',
                                data: {
                                  labels: ['B2B Sales', 'B2C Sales', 'Sales', 'Cancellation Rate', 'Top Selling State', 'Low Selling City'],
                                  datasets: [{
                                    label: '',
                                    data: [5, 7, 2, 9, 10, 11, 12],
                                    backgroundColor: [
                                      '#A084E8', '#A084E8', '#E4D0FB', '#7B3DF3', '#A084E8', '#A084E8', '#E4D0FB'
                                    ],
                                    borderRadius: 8,
                                    barThickness: 32,
                                  }]
                                },
                                options: {
                                  responsive: true,
                                  maintainAspectRatio: false,
                                  plugins: { legend: { display: false } },
                                  scales: {
                                    x: {
                                      grid: { display: false },
                                      ticks: { color: '#232323', font: { family: 'Quicksand', weight: 'bold', size: 14 } }
                                    },
                                    y: {
                                      grid: { color: '#F3EFFF' },
                                      ticks: { color: '#A084E8', font: { family: 'Quicksand', size: 13 } },
                                      beginAtZero: true,
                                      suggestedMax: 10
                                    }
                                  }
                                }
                              });
                            });
                          </script>
                        </div>
                        <!-- Top Item Categories -->
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] p-4 sm:p-7 flex flex-col border border-[#F0EFFF]">
                          <div class="flex items-center justify-between mb-3">
                            <div class="font-bold text-base sm:text-lg text-[#232323]" style="font-family: 'Montserrat', sans-serif;">Quick Access</div>
                          </div>
                          <div class="grid grid-cols-3 gap-2 sm:gap-3 mt-2">
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[15px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Website</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM16 18H8V16H16V18ZM16 14H8V12H16V14ZM13 9V3.5L18.5 9H13Z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[15px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Invoices</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[15px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Attendance</span>
                            </div>
                            
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" viewBox="0 0 24 24">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Customers</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" viewBox="0 0 16 16">
                                    <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Quick Notes</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" viewBox="0 0 16 16">
                                    <path d="M6 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H9v1.07a7.001 7.001 0 0 1 3.274 12.474l.601.602a.5.5 0 0 1-.707.708l-.746-.746A6.97 6.97 0 0 1 8 16a6.97 6.97 0 0 1-3.422-.892l-.746.746a.5.5 0 0 1-.707-.708l.602-.602A7.001 7.001 0 0 1 7 2.07V1h-.5A.5.5 0 0 1 6 .5m2.5 5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9zM.86 5.387A2.5 2.5 0 1 1 4.387 1.86 8.04 8.04 0 0 0 .86 5.387M11.613 1.86a2.5 2.5 0 1 1 3.527 3.527 8.04 8.04 0 0 0-3.527-3.527"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Reminders</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0 text-center" viewBox="0 0 20 20">
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Notifications</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer" style="visibility: hidden;">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" viewBox="0 0 24 24">
                                    <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Subscription</span>
                            </div>
                            <div class="bg-[#E9D8FD] rounded-xl flex items-center justify-center h-12 sm:h-16 group relative cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-5 h-5 sm:w-7 sm:h-7 text-[#7B3DF3] transition-opacity duration-300 group-hover:opacity-0" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/>
                                </svg>
                                <span class="absolute inset-0 flex items-center justify-center text-[#7B3DF3] font-medium text-[14px] opacity-0 transition-opacity duration-300 group-hover:opacity-100">Subscription</span>
                            </div>
                          </div>
                        </div>
                        <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] p-4 sm:p-7 flex flex-col border border-[#F0EFFF]">
                          <div class="flex items-center justify-between mb-3">
                              <div class="flex items-center gap-2">
                                  <h2 class="font-bold text-base sm:text-lg text-[#232323] whitespace-nowrap" style="font-family: 'Montserrat', sans-serif;">
                                      Business Analytics
                                  </h2>
                              </div>
                              <button 
                                  class="text-[#7B3DF3] px-3 py-1.5 rounded-lg text-sm font-medium flex items-center hover:bg-[#F0EFFF] transition-colors duration-200"
                                  style="font-family: 'Montserrat', sans-serif;"
                                  aria-label="Settings"
                                  onclick="openTagsModal()">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                  </svg>
                              </button>
                          </div>
                          <div class="flex flex-col items-center justify-center mt-2">
                            <div class="w-48 h-48 relative">
                              <canvas id="businessAnalyticsPieChart"></canvas>
                            </div>
                            <button class="mt-6 px-6 py-2 bg-[#7B3DF3] text-white rounded-lg text-sm font-medium hover:bg-[#6931D3] transition-all duration-300 w-full sm:w-auto flex items-center justify-center gap-2 group relative overflow-hidden transform hover:scale-[1.02] active:scale-[0.98]">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300 group-hover:-translate-y-1 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
                                </svg>
                                <span class="relative">
                                    <span class="transition-transform duration-300 inline-block group-hover:-translate-y-1 group-hover:translate-x-1">Upload</span>
                                    <span class="absolute bottom-0 left-0 w-full h-[2px] bg-white transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
                                </span>
                                <div class="absolute inset-0 bg-white/10 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                            </button>
                            <p class="text-xs text-gray-800 mt-1">Upload your sales report here</p>
                          </div>

                          <script>
                            document.addEventListener('DOMContentLoaded', function() {
                              const ctx = document.getElementById('businessAnalyticsPieChart').getContext('2d');
                              
                              new Chart(ctx, {
                                type: 'pie',
                                data: {
                                  labels: [
                                    'Online Sales',
                                    'Offline Sales'
                                  ],
                                  datasets: [{
                                    data: [85000, 55000],
                                    backgroundColor: [
                                      '#7B3DF3',
                                      '#E9D8FD'
                                    ],
                                    borderWidth: 2,
                                    borderColor: '#ffffff',
                                    borderRadius: 5
                                  }]
                                },
                                options: {
                                  responsive: true,
                                  maintainAspectRatio: true,
                                  plugins: {
                                    legend: {
                                      display: true,
                                      position: 'bottom',
                                      labels: {
                                        font: {
                                          family: 'Montserrat',
                                          size: 12
                                        },
                                        padding: 20,
                                        usePointStyle: true,
                                        pointStyle: 'circle'
                                      }
                                    },
                                    tooltip: {
                                      backgroundColor: 'rgba(35, 35, 35, 0.9)',
                                      padding: 12,
                                      titleFont: {
                                        family: 'Montserrat',
                                        size: 14,
                                        weight: 'bold'
                                      },
                                      bodyFont: {
                                        family: 'Montserrat',
                                        size: 13
                                      },
                                      callbacks: {
                                        label: function(context) {
                                          const value = context.raw.toLocaleString('en-US', {
                                            style: 'currency',
                                            currency: 'USD',
                                            minimumFractionDigits: 0
                                          });
                                          const percentage = ((context.raw / context.dataset.data.reduce((a,b) => a+b)) * 100).toFixed(1);
                                          return `${context.label}: ${value} (${percentage}%)`;
                                        }
                                      }
                                    }
                                  },
                                  animation: {
                                    duration: 2000,
                                    easing: 'easeOutQuart'
                                  }
                                }
                              });
                            });
                          </script>
                        </div>
                        </div>
                        </div>
                        <!-- Stores List -->
                        <div class="grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-7">
                          <!-- Stores List -->
                          

                          <!-- Stock Numbers Section -->
                          <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] p-4 sm:p-7 md-reduced-padding flex-1 border border-[#F0EFFF] lg:col-span-4">
                            <div class="flex items-center justify-between mb-3">
                              <div class="font-bold text-base sm:text-lg text-[#232323]" style="font-family: 'Montserrat', sans-serif;">Stock numbers</div>
                            </div>
                            <div class="space-y-4">
                              <div class="flex justify-between items-center">
                                <div class="flex items-center gap-2">
                                  <span class="text-sm text-[#7B3DF3] font-semibold" style="font-family: 'Quicksand', sans-serif;">Out of stock</span>
                                  <svg class="h-4 w-4 text-[#7B3DF3]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                  </svg>
                                </div>
                                <div class="text-sm text-[#232323] font-bold" style="font-family: 'Montserrat', sans-serif;">12</div>
                              </div>
                              <div class="flex justify-between items-center">
                                <div class="text-sm text-[#7B3DF3] font-semibold" style="font-family: 'Quicksand', sans-serif;">Total Products</div>
                                <div class="text-sm text-[#232323] font-bold" style="font-family: 'Montserrat', sans-serif;">6</div>
                              </div>
                              <div class="flex justify-between items-center">
                                <div class="text-sm text-[#7B3DF3] font-semibold" style="font-family: 'Quicksand', sans-serif;">Categories</div>
                                <div class="text-sm text-[#232323] font-bold" style="font-family: 'Montserrat', sans-serif;">1</div>
                              </div>
                            </div>
                          </div>
                          <div class="bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(123,61,243,0.07)] p-4 sm:p-7 md-reduced-padding flex-1 border border-[#F0EFFF] lg:col-span-8">
                            <div class="flex items-center justify-between mb-3">
                              <div class="font-bold text-base sm:text-lg text-[#232323]" style="font-family: 'Montserrat', sans-serif;">Companies</div>
                              <a href="/hr_management/company/" class="text-xs text-[#7B3DF3] font-semibold" style="font-family: 'Montserrat', sans-serif;">VIEW ALL</a>
                            </div>
                            <div class="overflow-x-auto">
                              <table class="min-w-full text-xs sm:text-sm mt-2" style="font-family: 'Quicksand', sans-serif;">
                                <thead>
                                  <tr class="text-[#7B3DF3] text-left">
                                    <th class="font-semibold py-1 pr-2 sm:pr-4">Company Name</th>
                                    <th class="font-semibold py-1 pr-2 sm:pr-4">Location</th>
                                    <th class="font-semibold py-1 pr-2 sm:pr-4">GST Number</th>
                                    <th class="font-semibold py-1 pr-2 sm:pr-4">Employees</th>
                                  </tr>
                                </thead>
                                <tbody class="text-[#232323]">
                                  {% for company in companies %}
                                  <tr class="border-b last:border-0">
                                    <td class="py-1 pr-2 sm:pr-4">{{ company.name }}</td>
                                    <td class="py-1 pr-2 sm:pr-4">{{ company.location }}</td>
                                    <td class="py-1 pr-2 sm:pr-4">{{ company.gst_number }}</td>
                                    <td class="py-1 pr-2 sm:pr-4">{{ company.employee_count }} employees</td>
                                  </tr>
                                  {% endfor %}
                                  {% if not companies %}
                                  <tr>
                                    <td colspan="4" class="py-4 text-center text-gray-500">No companies found</td>
                                  </tr>
                                  {% endif %}
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- End Dashboard Main Section -->
                    {% endblock %}
                </div>
            {% endif %}
        </main>
    </div>

    <!-- Sidebar toggle script -->
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const mainContent = document.getElementById('main-content');
            const fullLogo = document.getElementById('fullLogo');
            const smallLogo = document.getElementById('smallLogo');
            const sidebarTexts = document.querySelectorAll('.sidebar-text');
            
            if (window.innerWidth <= 768) {
                // Mobile behavior
                sidebar.classList.toggle('open');
                overlay.classList.toggle('show');
                document.body.style.overflow = sidebar.classList.contains('open') ? 'hidden' : '';
            } else {
                // Desktop behavior
                const isCollapsed = sidebar.style.width === '64px';
                
                sidebar.style.width = isCollapsed ? '256px' : '64px';
                mainContent.style.marginLeft = isCollapsed ? '256px' : '64px';
                
                // Toggle logos with proper display
                if (isCollapsed) {
                    if (fullLogo) fullLogo.style.display = 'block';
                    if (smallLogo) smallLogo.style.display = 'none';
                    sidebarTexts.forEach(text => text.style.display = 'inline');
                } else {
                    if (fullLogo) fullLogo.style.display = 'none';
                    if (smallLogo) smallLogo.style.display = 'block';
                    sidebarTexts.forEach(text => text.style.display = 'none');
                }
            }
        }

        // Initialize sidebar state on page load
        document.addEventListener('DOMContentLoaded', () => {
            const fullLogo = document.getElementById('fullLogo');
            const smallLogo = document.getElementById('smallLogo');
            
            // Check for medium screens (1024x778 range)
            const isMediumScreen = window.innerWidth <= 1024 && window.innerWidth > 768;
            
            if (window.innerWidth <= 768) {
                const mainContent = document.getElementById('main-content');
                mainContent.style.marginLeft = '0';
                mainContent.classList.add('main-content-mobile');
            } else if (isMediumScreen) {
                // Medium screen optimizations
                const sidebar = document.getElementById('sidebar');
                const mainContent = document.getElementById('main-content');
                
                if (sidebar) sidebar.style.width = '220px';
                if (mainContent) mainContent.style.marginLeft = '220px';
                
                // Adjust chart sizes for medium screens
                if (window.salesChartInstance) {
                    window.salesChartInstance.resize();
                }
                
                if (fullLogo) fullLogo.style.display = 'block';
                if (smallLogo) smallLogo.style.display = 'none';
            } else {
                if (fullLogo) fullLogo.style.display = 'block';
                if (smallLogo) smallLogo.style.display = 'none';
            }
            
            // Make sure charts are responsive
            window.addEventListener('resize', function() {
                if (window.salesChartInstance) {
                    window.salesChartInstance.resize();
                }
                
                // Handle screen size changes
                const isCurrentlyMediumScreen = window.innerWidth <= 1024 && window.innerWidth > 768;
                if (isCurrentlyMediumScreen) {
                    const sidebar = document.getElementById('sidebar');
                    const mainContent = document.getElementById('main-content');
                    
                    if (sidebar && !sidebar.classList.contains('open')) sidebar.style.width = '220px';
                    if (mainContent) mainContent.style.marginLeft = '220px';
                }
            });
        });
    </script>

    <!-- Tags Modal -->
    

    <script>
    function openTagsModal() {
      document.getElementById('tagsModal').classList.remove('hidden');
    }
    function closeTagsModal() {
      document.getElementById('tagsModal').classList.add('hidden');
    }
    // Optional: Close modal on background click
    document.getElementById('tagsModal').addEventListener('click', function(e) {
      if (e.target === this) closeTagsModal();
    });
    </script>
</body>
</html>